<!DOCTYPE html>

<html lang="pt-br">

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8">
	<title>Login</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
	 crossorigin="anonymous">
	 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	 crossorigin="anonymous">
	<link rel="stylesheet" href="login.css">
	<script defer src="login.js">
	</script>
	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js">
	</script>
	<script src="//code.jquery.com/jquery-1.11.1.min.js">
	</script>
</head>

<body style="background-color: rgb(177, 176, 176)">
	<!--Header-->
	<header class="container-fluid header">
        <div class="row menu-area">
            <div class="col-12 col-sm-12 col-md-8 col-lg-8">
                <input type="checkbox" id="menuToggle">
                <label for="menuToggle" class="menu-icon">
					<img src="imagens/botao-x.png" alt="" style="margin-bottom: 100%; width: 70%;">
                    <i class="fa fa-bars"></i>
                    <i class="fa fa-times-circle"></i>
                </label>
                <nav id=show class="menu">
					<div>
                    <a class="menu-link" href="index.html"> Introdução</a>
                    
            
                    

				</div>
                </nav>
            </div>
        </div>
    </header>

    <!--End Header-->

    <!--Main-->
    <main onload style="background-color: grey;" class="container">
        <!--Section-->
        <section class="row containe">

			<div id="login">
				
				<div class="container">
					<div id="login-row" class="row justify-content-center align-items-center">
						<div id="login-column" class="col-md-6"> 
							<div id="login-box" class="col-md-12">
								<form id="login-form" class="form" method="post" onsubmit="loginUser (this)">
									<h1 style="font-size:75px; color: orange; margin-bottom: 10%;">Login</h1>
									<div class="form-group">
										<h1 style="font-size: large; color: orange;">Usuário</h1>
							
										<input type="text" name="username" id="username" class="form-control">
									</div>
									<div class="form-group">
										<hr>
										<h1 style="font-size: large; color: orange;">Senha</h1>
										<input type="text" name="password" id="password" class="form-control">
								
									</div>
									<div class="form-group text-right">                                
										<input type="submit" name="submit" class="btn btn-outline-warning" value="Entrar">
									</div>
								</form>
							</div>
							<button type="button" class="btn btn-outline-warning"data-toggle="modal" data-target="#loginModal"style="margin-right:100%; margin:">Novo Usuário</button>
						</div>
					</div>
				</div>
			</div>    
		
		  <div class="modal" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
			<div class="modal-dialog.modal-fullscreen" role="document">
			  <div class="modal-content">
				<div class="modal-header">
				  <h5 class="modal-title" id="loginModalLabel">Novo Usuário</h5>
				  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				  </button>
				</div>
				<div class="modal-body">
					<div id="login-box" class="col-md-12">
						<form id="login-form" class="form" method="post" onsubmit="loginUser (this)">
							<h3 style="font-size: large; color: orange;" class="text-center">Novo Usuário</h3>
							<div class="form-group">
								<h1 style="font-size: medium; color: orange;">Usuário</h1><br>
								<input type="text" name="txt_login" id="txt_login" class="form-control">
							</div>
							<div class="form-group">
								<h1 style="font-size: medium; color: orange;">Nome Completo</h1><br>
								<input type="text" name="txt_nome" id="txt_nome" class="form-control">
							</div>
							<div class="form-group">
								<h1 style="font-size: medium; color: orange;">E-mail</h1><br>
								<input type="text" name="txt_email" id="txt_email" class="form-control">
							</div>
							<div class="form-group">
								<h1 style="font-size: medium; color: orange;">Senha</h1><br>
								<input type="password" name="txt_senha" id="txt_senha" class="form-control">
							</div>
							<div class="form-group">
								<h1 style="font-size: medium; color: orange;">Confirmar Senha</h1><br>
								<input type="password" name="txt_senha2" id="txt_senha2" class="form-control">
							</div>
						</form>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-outline-warning" data-dismiss="modal">Cancelar</button>
					<button type="button" id="btn_salvar" class="btn btn-outline-warning">Salvar</button>
			  </div>
			</div>
		  </div>
		
			<script src="login.js"></script>
			<script>
		   
				function processaFormLogin (event) {                
						
						event.preventDefault ();
		
						var username = document.getElementById('username').value;
						var password = document.getElementById('password').value;
						
		
						resultadoLogin = loginUser (username, password);
						if (resultadoLogin) {
							window.location.href = 'coletadados.html';
						}
						else { //se login falhar
							alert ('Usuário ou senha incorretos');
						}
				}

				
		
				function salvaLogin (event) {
					event.preventDefault ();
		
					let login  = document.getElementById('txt_login').value;
					let nome   = document.getElementById('txt_nome').value;
					let email  = document.getElementById('txt_email').value;
					let senha  = document.getElementById('txt_senha').value;
					let senha2 = document.getElementById('txt_senha2').value;
					if (senha != senha2) {
						alert ('As senhas são diferentes');
						return
					}
					addUser (nome, login, senha, email);
					alert ('Usuário salvo com sucesso');
		
					$('#loginModal').modal('hide');
				}
		
				document.getElementById ('login-form').addEventListener ('submit', processaFormLogin);
		
				document.getElementById ('btn_salvar').addEventListener ('click', salvaLogin);        
			</script>
		
			<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>


        </section>
        <!--End Section-->
         

    </main>
    <!--End Main-->
     <!--Footer-->
     <footer class="container-fluid footer" style="margin-top: 40px;">
        <div class="row">
            <div class="col-12 col-sm-12 col-md-9 col-lg-10 copy">
                <p>Copyright 2021 - Grupo de Oniomania - Puc Minas</p>
            </div>
            <div class="col-12 col-sm-12 col-md-3 col-lg-2 logo">
                <a href="about.html">Sobre Nós</a>
            </div>
        </div>
    </footer>
    <!--End Footer-->
</body>