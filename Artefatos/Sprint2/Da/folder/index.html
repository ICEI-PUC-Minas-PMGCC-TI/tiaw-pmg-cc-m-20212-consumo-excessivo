<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <script>
        window.onload = () => {

            botao.onclick = () => {
                if (valor.value == [''] || validationDefault01.value == [''] || validationDefault02.value == [''] || validationDefault03.value == [''] || validationDefault04.value == [''] || validationDefault05.value == ['']  ) {
                   alert("Todos os dados precisam ser preenchidos para registrar uma resposta.") 
                }  else {
                    cadastraResposta();
                    
                }
            }
        };
            function cadastraResposta(){
                var respostaValor = document.getElementById("valor")
                var respostaDia = document.getElementById("validationDefault01");
                var respostaMes = document.getElementById("validationDefault02");
                var respostaAno = document.getElementById("validationDefault03");
                var respostaTipo = document.getElementById("validationDefault04");
                var respostaCaracteristica = document.getElementById("validationDefault05");
            
                var dados = JSON.parse(localStorage.getItem("dadosProduto"));

                if (dados == null){
                    localStorage.setItem("dadosProduto", "[]");
                    dados = [];
                }

                var auxRegistor = {
                    valor: respostaValor.value, 
                    dia: respostaDia.value,
                    mes: respostaMes.value,
                    ano: respostaAno.value,
                    tipo: respostaTipo.value,
                    caracteristica: respostaCaracteristica.value
                }
                
                dados.push(auxRegistor);

                localStorage.setItem("dadosProduto", JSON.stringify(dados));
                alert("Registro incluído com sucesso")

                valor.value = null;
                validationDefault01.value = null;
                validationDefault02.value = null;
                validationDefault03.value = 2021;
                validationDefault04.value = null;
                validationDefault05.value = null;
            }
             
    </script>    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="estilo.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>TIAW</title>
    
</head>
<body>          
        <div class="row">

             <div class="caixa">
                
                    <form  class="row g-3">
                        <div class=" col-lg-6">
                            <label for="validationDefault02" class="form-label">Valor</label>
                            
                            <input type="number" id="valor" name="valor" min="1" max="999999999999999999" class="form-control" aria-label="Dollar amount (with dot and two decimal places)" placeholder="0.00" autocomplete="off" required>
                          </div>
                        
                        <div class="col-lg-2">
                          <label for="validationDefault03" class="form-label">Dia</label>
                          <input type="number"  name="dia" min="1" max="31" class="form-control" id="validationDefault01" required>
                        </div>
                        
                        <div class="col-lg-2">
                            <label for="validationDefault03" class="form-label">Mês</label>
                            <input type="number"  name="mes" min="1" max="12" class="form-control" id="validationDefault02" required>
                          </div>
                          <div class="col-lg-2">
                            <label for="validationDefault03" class="form-label">Ano</label>
                            <input type="number"  name="ano" min="2000" max="2030" class="form-control" id="validationDefault03" value="2021" required>
                          </div>



                        <div class="col-lg-6">
                          <label for="validationDefault04" class="form-label">Transação</label>
                          <select name="tipoTransacao" class="form-select" id="validationDefault04" required>
                            <option selected disabled value="">Escolha...</option>
                            <option>Gasto</option>
                            <option>Receita</option>
                          </select>
                        </div>
                        <div class="col-lg-6">
                            <label for="validationDefault04" class="form-label">Tipo do gasto/receita</label>
                            <select class="form-select" id="validationDefault05" required>
                              <option selected disabled value="">Escolha...</option>
                              <option>Gasto fixo</option>
                              <option>Gasto Variável</option>
                              <option>Receita fixa</option>
                              <option>Receita Variável</option>
                            </select>
                          </div>
                        <div class="col-12">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="invalidCheck2" required>
                            <label class="form-check-label" for="invalidCheck2">
                              Concordar em compartilhar estes dados
                            </label>
                          </div>
                        </div>
                        <div class="col-12">
                          <button class="btn btn-primary" type="button" id="botao">Enviar dados</button>
                        </div>
                      </form>
                
            </div>           

                
        </div>
        
    
   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>   
</body>
</html>